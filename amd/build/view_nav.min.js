define ("block_course_activities/view_nav",["jquery","core/custom_interaction_events","block_course_activities/view","core/ajax","core/notification","block_course_activities/view_courses"],function(a,b,c,d,e,f){var g={COURSE_ACTIVITIES_DAY_FILTER:"[data-region=\"course-filter\"]",COURSE_ACTIVITIES_DAY_FILTER_OPTION:"[data-from]",COURSE_ACTIVITIES_VIEW_SELECTOR:"[data-region=\"view-selector\"]",DATA_DAYS_OFFSET:"[data-days-offset]",DATA_DAYS_LIMIT:"[data-days-limit]",COURSE_ACTIVITIES_COURSES_VIEW:"[data-region=\"view-courses\"]"},h=function(a,b){d.call([{methodname:"core_user_update_user_preferences",args:{preferences:[{type:a,value:b}]}}])[0].fail(e.exception)},i=function(d,f){var i=d.find(g.COURSE_ACTIVITIES_DAY_FILTER);b.define(i,[b.events.activate]);i.on(b.events.activate,g.COURSE_ACTIVITIES_DAY_FILTER_OPTION,function(b,e){var i=a(b.currentTarget).data("filtername");h("block_course_activities_user_course_preference",i);var j=a(b.target).closest(g.COURSE_ACTIVITIES_DAY_FILTER_OPTION);if("true"==j.attr("aria-current")){return}var k=j.attr("data-from"),l=j.attr("data-to"),m=j.attr("data-course"),n=d.find(g.DATA_DAYS_OFFSET);n.attr("data-days-offset",k);n.attr("data-course-id",m);if(l!=void 0){n.attr("data-days-limit",l)}else{n.removeAttr("data-days-limit")}c.reset(f);e.originalEvent.preventDefault()})},j=function(d,f){var i=d.find(g.COURSE_ACTIVITIES_VIEW_SELECTOR);i.on("shown shown.bs.tab",function(b){c.shown(f);a(b.target).removeClass("active")});b.define(i,[b.events.activate]);i.on(b.events.activate,"[data-toggle='tab']",function(b){var c=a(b.currentTarget).data("filtername");h("block_course_activities_user_sort_preference",c)})};return{init:function init(b,c){b=a(b);i(b,c);j(b,c)},reset:function reset(a){var b=a.find(g.COURSE_ACTIVITIES_COURSES_VIEW);f.reset(b)},shown:function shown(a){var b=a.find(g.COURSE_ACTIVITIES_COURSES_VIEW);f.shown(b)}}});
//# sourceMappingURL=view_nav.min.js.map
