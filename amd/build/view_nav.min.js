define ("block_course_activities/view_nav",["jquery","core/custom_interaction_events","block_course_activities/view","core/ajax","core/notification"],function(a,b,c,d,e){var f={COURSE_ACTIVITIES_DAY_FILTER:"[data-region=\"day-filter\"]",COURSE_ACTIVITIES_DAY_FILTER_OPTION:"[data-from]",COURSE_ACTIVITIES_VIEW_SELECTOR:"[data-region=\"view-selector\"]",DATA_DAYS_OFFSET:"[data-days-offset]",DATA_DAYS_LIMIT:"[data-days-limit]"},g=function(a,b){d.call([{methodname:"core_user_update_user_preferences",args:{preferences:[{type:a,value:b}]}}])[0].fail(e.exception)},h=function(d,h){var i=d.find(f.COURSE_ACTIVITIES_DAY_FILTER);b.define(i,[b.events.activate]);i.on(b.events.activate,f.COURSE_ACTIVITIES_DAY_FILTER_OPTION,function(b,e){var i=a(b.currentTarget).data("filtername");g("block_course_activities_user_filter_preference",i);var j=a(b.target).closest(f.COURSE_ACTIVITIES_DAY_FILTER_OPTION);if("true"==j.attr("aria-current")){return}var k=j.attr("data-from"),l=j.attr("data-to"),m=d.find(f.DATA_DAYS_OFFSET);m.attr("data-days-offset",k);if(l!=void 0){m.attr("data-days-limit",l)}else{m.removeAttr("data-days-limit")}c.reset(h);e.originalEvent.preventDefault()})},i=function(d,h){var i=d.find(f.COURSE_ACTIVITIES_VIEW_SELECTOR);i.on("shown shown.bs.tab",function(b){c.shown(h);a(b.target).removeClass("active")});b.define(i,[b.events.activate]);i.on(b.events.activate,"[data-toggle='tab']",function(b){var c=a(b.currentTarget).data("filtername");g("block_course_activities_user_sort_preference",c)})};return{init:function init(b,c){b=a(b);h(b,c);i(b,c)}}});
//# sourceMappingURL=view_nav.min.js.map
